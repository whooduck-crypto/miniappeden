# üéÆ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª–µ–π —Ç—É—Ä–Ω–∏—Ä–∞ —Å –≤—ã–±–æ—Ä–æ–º —Ä–æ–ª–∏

## –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:

### Frontend:
‚úÖ **–ù–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `TournamentDetailPage.tsx`**
   - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç—É—Ä–Ω–∏—Ä–µ
   - –ö—Ä–∞—Å–∏–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º
   - –°–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Ç—É—Ä–Ω–∏—Ä–∞
   - –ö–Ω–æ–ø–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å –≤—ã–±–æ—Ä–æ–º —Ä–æ–ª–∏

‚úÖ **–í—ã–±–æ—Ä —Ä–æ–ª–∏ –ø—Ä–∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏**
   - **–ú–∏–¥–µ—Ä (‚öîÔ∏è)**: –û—Å–Ω–æ–≤–Ω–∞—è —Ä–æ–ª—å, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç —Ü–µ–Ω—Ç—Ä –∫–∞—Ä—Ç—ã
   - **–†–æ—É–º–µ—Ä (üèÉ)**: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É, –ø–æ–º–æ–≥–∞–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏—Ö –ª–∞–π–Ω–∞—Ö
   - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å —Å–µ–ª–µ–∫—Ü–∏–µ–π

‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
   - `App.tsx` - –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ React Router
   - `TournamentsPage.tsx` - –ù–∞–∂–∞—Ç–∏–µ –Ω–∞ —Ç—É—Ä–Ω–∏—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–µ—Ç–∞–ª–µ–π
   - `Navigation.tsx` - –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å React Router
   - `types/tournaments.ts` - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–∏–ø—ã `ParticipantRole`

### Backend:
‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω—ã —ç–Ω–¥–ø–æ–π–Ω—Ç—ã:**
   - `POST /api/tournaments/:tournamentId/join` - –¢–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç `role` –ø–∞—Ä–∞–º–µ—Ç—Ä
   - `GET /api/tournaments` - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   - `GET /api/tournaments/:tournamentId` - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
   - `GET /api/users/:userId/tournaments` - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∞ –ë–î:**
   - `init-db.js` - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ `role` –≤ —Ç–∞–±–ª–∏—Ü—É `tournament_participants`
   - –°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è `migrate-add-role.js` –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ë–î –Ω–∞ Railway

## üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

### 1. Backend –Ω–∞ Railway

**–î–ª—è –Ω–æ–≤–æ–π –ë–î (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ init-db.js):**
```bash
npm install
node init-db.js
node server.js
```

**–î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –ë–î (–Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É role):**
```bash
# –û–ø—Ü–∏—è –ê: –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
node migrate-add-role.js

# –û–ø—Ü–∏—è –ë: –í—Ä—É—á–Ω—É—é –≤ PostgreSQL –∫–æ–Ω—Å–æ–ª–∏
ALTER TABLE tournament_participants ADD COLUMN IF NOT EXISTS role VARCHAR(50);
```

### 2. Frontend

**–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
npm install react-router-dom
```

**–ó–∞—Ç–µ–º —Ä–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –Ω–∞ Vercel:**
```bash
npm run build
# –ó–∞—Ç–µ–º push –≤ GitHub –∏ redeploy –Ω–∞ Vercel
```

## üìã –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø–æ—Ç–æ–∫:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ —Ç—É—Ä–Ω–∏—Ä–æ–≤ –Ω–∞ `TournamentsPage`
2. –ù–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É "–ü–æ–¥—Ä–æ–±–Ω–µ–µ / –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è"
3. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ `/tournament/:tournamentId` —Å:
   - –ü–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç—É—Ä–Ω–∏—Ä–µ
   - –°–ø–∏—Å–∫–æ–º —Ç–µ–∫—É—â–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
   - –ö–Ω–æ–ø–∫–æ–π "–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è"
4. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–±–æ—Ä–∞ —Ä–æ–ª–∏
5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ä–æ–ª—å (–ú–∏–¥–µ—Ä –∏–ª–∏ –†–æ—É–º–µ—Ä)
6. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è POST –∑–∞–ø—Ä–æ—Å —Å —Ä–æ–ª—å
7. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Ç—É—Ä–Ω–∏—Ä–∞ —Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π —Ä–æ–ª—å—é

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:

**Tournament Participant Object:**
```typescript
{
  userId: number
  username: string
  joinedAt: string
  score: number
  position?: number
  role?: 'mider' | 'roumer'  // ‚ú® –ù–æ–≤–æ–µ –ø–æ–ª–µ
}
```

## üîß API –ø—Ä–∏–º–µ—Ä—ã:

**–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ —Ç—É—Ä–Ω–∏—Ä—É —Å —Ä–æ–ª—å—é:**
```bash
POST /api/tournaments/123/join
Content-Type: application/json

{
  "userId": 123456789,
  "role": "mider"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "message": "Joined tournament",
  "tournament": {
    "id": 123,
    "name": "–¢—É—Ä–Ω–∏—Ä",
    "participants": [
      {
        "userId": 123456789,
        "username": "player1",
        "role": "mider",
        "score": 0,
        "joinedAt": "2025-02-05T10:00:00Z"
      }
    ]
  }
}
```

## üì± UI –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

- ‚ú® –ö—Ä–∞—Å–∏–≤—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç-—Ñ–æ–Ω –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- üé® –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ä–æ–ª–µ–π —Å —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏—è
- üìä –°–µ—Ç–∫–∞ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π (–°—Ç–∞—Ç—É—Å, –£—á–∞—Å—Ç–Ω–∏–∫–∏, –í—Ö–æ–¥, –ü—Ä–∏–∑–æ–≤–æ–π, –î–∞—Ç—ã)
- üìù –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —Å –∏—Ö —Ä–æ–ª—è–º–∏ –∏ –æ—á–∫–∞–º–∏
- üîô –ö–Ω–æ–ø–∫–∞ "–í–µ—Ä–Ω—É—Ç—å—Å—è" –Ω–∞ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –¥–ª—è —É–∂–µ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–≤—à–∏—Ö—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## ‚ö†Ô∏è –í–∞–∂–Ω–æ:

1. **React Router —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è App.tsx** - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏–ª–æ—Å—å
2. **–ú–∏–≥—Ä–∞—Ü–∏—è –ë–î** - –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç—É—Ä–Ω–∏—Ä—ã –Ω–∞ Railway, –∑–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é
3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ç–æ–∫: –¢—É—Ä–Ω–∏—Ä—ã ‚Üí –ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Üí –í—ã–±–æ—Ä —Ä–æ–ª–∏ ‚Üí –ü—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

## üêõ Troubleshooting:

**–ü—Ä–æ–±–ª–µ–º–∞: "Cannot find module 'react-router-dom'"**
- –†–µ—à–µ–Ω–∏–µ: `npm install react-router-dom`

**–ü—Ä–æ–±–ª–µ–º–∞: –†–æ–ª—å –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: –ï—Å—Ç—å –ª–∏ –∫–æ–ª–æ–Ω–∫–∞ `role` –≤ —Ç–∞–±–ª–∏—Ü–µ `tournament_participants`
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é: `node migrate-add-role.js`

**–ü—Ä–æ–±–ª–µ–º–∞: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª–µ–π –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ: –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ React Router (–Ω–∞–≤–∏–≥–∞—Ü–∏—è)
- –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –æ—à–∏–±–∫–∏
