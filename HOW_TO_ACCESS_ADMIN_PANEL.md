# 🔐 КАК ЗАЙТИ В АДМИНКУ

## 🎯 Быстрая инструкция

Админка видна **только если ваш Telegram ID в переменной `VITE_ADMIN_IDS`**

## ✅ ПРОВЕРКА: Вы админ?

### Ваш Telegram ID: **5116606689** ✅

В `.env.local` написано:
```
VITE_ADMIN_IDS=5116606689
```

**Это значит вы админ!** 🎉

---

## 🚀 КАК ОТКРЫТЬ АДМИНКУ

### Способ 1: В Telegram Mini App (РЕКОМЕНДУЕТСЯ)

1. **Откройте бота:** t.me/miniappeden_bot (или ваш @username_bot)
2. **Нажмите кнопку "App"**
3. **Приложение откроется**
4. **Внизу должна быть вкладка "⚙️ Админка"** (рядом с "Профиль")
5. **Нажмите на "⚙️ Админка"**
6. **Админка откроется!** ✅

### Способ 2: В браузере (для тестирования)

1. **Откройте:** http://localhost:5173 (или ваш deployed URL)
2. Откройте **DevTools (F12)**
3. Откройте **Console**
4. **Скопируйте и выполните:**

```javascript
// Подменить Telegram объект
window.Telegram = {
  WebApp: {
    initDataUnsafe: {
      user: {
        id: 5116606689,
        is_bot: false,
        first_name: "Your",
        username: "yourusername"
      }
    }
  }
};

// Перезагрузить страницу
window.location.reload();
```

Потом внизу будет кнопка **"⚙️ Админка"**

---

## 🛠️ ЧТО МОЖНО ДЕЛАТЬ В АДМИНКЕ?

### 1️⃣ Создать турнир

**Форма для создания:**
- **Название турнира** (текст)
- **Описание** (опционально)
- **Приз за 1 место** (число)
- **Дата начала** (опционально)
- **Дата конца** (опционально)
- **Максимум участников** (опционально)

**Кнопка:** "Создать турнир"

### 2️⃣ Управлять турнирами

**Список всех турниров с кнопками:**
- **📝 Редактировать** - изменить информацию
- **👥 Посмотреть участников** - список кто присоединился
- **✅ Завершить** - закончить турнир и раздать призы
- **🗑️ Удалить** - удалить турнир

**Статусы турниров:**
- ⏱️ **Ожидание** - еще не начался
- 🔴 **Активный** - идет прямо сейчас
- ✅ **Завершен** - уже закончился

### 3️⃣ Просмотреть результаты

После завершения турнира можно увидеть:
- Кто занял 1, 2, 3 место
- Сколько каждый получил призов
- История всех завершенных турниров

---

## ❌ ЕСЛИ АДМИНКА НЕ ВИДНА?

### Проблема 1: ID не совпадает

**Проверьте:**
1. Ваш ID в Telegram: @userinfobot
2. В `.env.local`: `VITE_ADMIN_IDS=ВАШ_ID`

**Пример:**
```
VITE_ADMIN_IDS=5116606689
```

### Проблема 2: Приложение не перезагружено

1. **Закройте бота в Telegram полностью**
2. **Откройте заново**
3. **Нажмите "App"**
4. **Должна появиться кнопка ⚙️**

### Проблема 3: Разные ID

Если в `.env.local` один ID, а Telegram дает другой:

**Проверьте:**
```bash
# В консоли DevTools (F12):
window.Telegram.WebApp.initDataUnsafe.user.id
```

Должно совпадать с `VITE_ADMIN_IDS`

---

## 📝 ЕСЛИ НУЖНО ДОБАВИТЬ ДРУГИХ АДМИНОВ

### Способ 1: Локально

В `.env.local`:
```
VITE_ADMIN_IDS=5116606689,123456789,987654321
```

(ID разделены запятой)

### Способ 2: На production (Netlify/Vercel)

1. Перейти в **Site Settings** → **Environment**
2. Найти `VITE_ADMIN_IDS`
3. Изменить на:
   ```
   5116606689,123456789,987654321
   ```
4. Retrigger deploy

---

## 🧪 ТЕСТИРОВАНИЕ АДМИНКИ

### Полная проверка:

1. **Откройте админку** ⚙️
2. **Создайте тестовый турнир:**
   - Название: "Test Tournament"
   - Приз: 100
3. **Нажмите "Создать турнир"**
4. **Турнир должен появиться в списке** ✅
5. **Нажмите "Посмотреть участников"** (должен быть пусто)
6. **Нажмите "Завершить"** (если хотите тестировать)
7. **Турнир должен исчезнуть из активных** ✅

### Если работает - **админка готова!** 🎉

---

## 📊 СТРУКТУРА АДМИНКИ

```
┌─────────────────────────────┐
│   АДМИНКА (⚙️ таб)          │
├─────────────────────────────┤
│                             │
│  📝 ФОРМА СОЗДАНИЯ:         │
│  [Название турнира      ]  │
│  [Описание              ]  │
│  [Приз за 1 место   100]  │
│  [Создать турнир]          │
│                             │
│  ─────────────────────────  │
│                             │
│  📋 СПИСОК ТУРНИРОВ:        │
│  ┌──────────────────────┐   │
│  │ Tournament 1         │   │
│  │ ⏱️ Ожидание         │   │
│  │ [Редактировать]      │   │
│  │ [Посмотреть участ.]  │   │
│  │ [Завершить]          │   │
│  │ [Удалить]            │   │
│  └──────────────────────┘   │
│                             │
│  ┌──────────────────────┐   │
│  │ Tournament 2         │   │
│  │ 🔴 Активный         │   │
│  │ [Редактировать]      │   │
│  │ [Посмотреть участ.]  │   │
│  │ [Завершить]          │   │
│  │ [Удалить]            │   │
│  └──────────────────────┘   │
│                             │
└─────────────────────────────┘
```

---

## 🆘 ОШИБКИ

### "Access Denied"
- Ваш ID не в `VITE_ADMIN_IDS`
- Решение: Добавьте в `.env.local`

### "API Error 404"
- Backend не запущен
- Решение: `node server.js`

### Админка не появляется
- ID не совпадает
- Приложение не перезагружено
- Решение: F5 или закрыть/открыть бота

---

## 📚 ПОЛЕЗНЫЕ КОМАНДЫ

```bash
# Запустить backend локально
node server.js

# Проверить ID в консоли
window.Telegram.WebApp.initDataUnsafe.user.id

# Проверить админов в консоли
console.log(ADMIN_CONFIG.ADMIN_IDS)
```

---

**Админка готова!** Теперь можете создавать турниры! 🚀
